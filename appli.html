<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>RÃªves et Cauchemards </title>
  <link rel="stylesheet" type="text/css" href="pixi.css">
</head>
<body>
  <div id="content">
  <div id="play_area"></div>
  </div>
      
  <script src="pixi.js"></script>
      
  <script type="text/javascript">

    let type = "WebGL"
    if(!PIXI.utils.isWebGLSupported()){
      type = "canvas"
    }

    var play_area = document.getElementById('play_area');

    //Define the canvas area
    const app = new PIXI.Application({width: 800, height: 600, backgroundColor: 0x52251C});
    play_area.appendChild(app.view);

    var main_gallery = new PIXI.Container();

    PIXI.loader
      .add('images/spritesheets/player.png')
      .load(setup);

    var sprite;

    function setup(){
      main_gallery.interactive = true;

      //Create the `tileset` sprite from the texture
      var player_texture = PIXI.utils.TextureCache["images/spritesheets/player.png"];

      var player_rectangle = new PIXI.Rectangle(128, 128, 128, 128);

      //Tell the texture to use that rectangular section
      player_texture.frame = player_rectangle;

      //Create the sprite from the texture
      var player = new PIXI.Sprite(player_texture);

      //Position the rocket sprite on the canvas
      player.anchor.set(0.5);
      player.x = 50;
      player.y = 600 - player.height/2 - 32;

      //Add the rocket to the stage
      app.stage.addChild(player);
  
      //Render the stage   
      app.render(main_gallery);


      //Move player on cadre1 click
      cadre_1.on('pointerdown', function(){
        var player_move = setInterval(function(){
          if (player.x > 400) {
            clearInterval(player_move);
          } else {
            player.x += 10;
            if (player_rectangle.y >= 128*3){
              player_rectangle.y = 0
            } else {
              player_rectangle.y += 128;
            }
            player.texture.frame = player_rectangle;
            app.render(main_gallery);
          }
           
            
        }, 200);
        
      });


    }

    

      
  </script>
 <script src="pixiscript.js"></script>
 <script src="player_move.js"></script>
 
</body>
</html>
